<!DOCTYPE HTML>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<title>Bleix - Layout Responsivo</title>
	<!-- Fontes -->
	<link href='http://fonts.googleapis.com/css?family=Raleway:400,100,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/bleix.css">
	<link rel="stylesheet" href="css/main.css">
	<!-- Mobile -->
	<link rel="stylesheet" href="css/bleix-mobile.css">
	<link rel="stylesheet" href="css/main-mobile.css">
	<!-- Cellphone -->
	<link rel="stylesheet" href="css/main-cellphone.css">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
</head>
<body>
	<nav class="bx-hidden bx-mobile-block bx-mobile-nav bx-font-regular">
		<div class="bx-mobile-nav-header">
			<div class="bx-mobile-menu-title">Bleix</div>
			<div class="bx-mobile-menu-icon bx-right"></div>
		</div>
		<div class="bx-clear"></div>
		<ul class="bx-mobile-fullsize bx-hidden bx-mobile-nav-list">
			<li><a href="">Página Inicial</a></li>
			<li><a href="">Configure seu bleix</a></li>
			<li><a href="">Documentação</a></li>
			<li><a href="">Exemplos</a></li>
			<li><a href="">Contato</a></li>
		</ul>
	</nav>
	<header>
		<div class="bx-center">
			<div class="bx-padding bx-text-center bx-text-shadow">
				<h1>Bleix</h1>
			</div>
		</div>
	</header>
	<nav class="bx-mobile-hidden desktop-menu">
		<div class="bx-center">
			<ul class="list bx-text-center">
				<li class="bx-inline item"><a href="">Página Inicial</a></li>
				<li class="bx-inline item"><a href="">Documentação</a></li>
				<li class="bx-inline item"><a href="">Exemplos</a></li>
				<li class="bx-inline item bx-no-border bx-no-margin bx-no-pading"><a href="">Contato</a></li>
			</ul>
		</div>
	</nav>

	<div id="example" class="bx-relative">
		
		<div id="example-sidebar" class="sidebar bx-column bx-column-fixed bx-column-fixed-size">
			<div class="bx-padding">
				<div class="bx-widget">
					<div class="bx-title">Tamanho do ícone</div>
					<form action="" class="bx-content" id="icon-preferences">
						<label class="bx-input-group">
							<input type="text" name="icon-width" class="bx-input bx-mini" value="16">
							<span class="bx-add-on">px</span>
						</label>
						<label class="bx-input-group">
							<input type="text" name="icon-height" class="bx-input bx-mini" value="16">
							<span class="bx-add-on">px</span>
						</label>
						<button class="bx-button">salvar</button>
					</form>
				</div>
			</div>
		</div>
		<div id="icons-content" class="bx-column">
			<div class="bx-padding-top bx-padding-bottom bx-padding-right bx-mobile-padding">
				<div id="example-content-default-style" class="content-item">
					<h2>Gerador de icones</h2>
					<p>Arraste os icones abaixo para criar seu arquivo bleix-icons.css.</p>
					
					<table class="bx-table" id="icon-uploads">
						<tr>
							<th>Classe</th>
							<th>Normal</th>
							<th>Hover</th>
							<th>Active</th>
							<th>Disabled</th>
							<th><button class="bx-button" id="icon-new-row">Adcionar</button></th>
						</tr>
					</table>
				</div>
			</div>
		</div>

	</div>

	<footer class="bx-margin-top">
		<div class="bx-center bx-text-center">
			<div class="bx-padding bx-font-regular">
				<h2 class="bx-mobile-margin-bottom">Bleix - Framework para layouts responsivos</h2>
				<p>Desenvolvido por <a href="http://maniero.tk">Carlos Maniero</a></p>
				<p>Bleix é um projeto Open Source | sem licença definida</p>
			</div>
		</div>
	</footer>
	
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.scroll-events.js"></script>
	<script type="text/javascript" src="js/jquery.bleix.js"></script>
	<script type="text/javascript" src="js/example.js"></script>
	<script type="text/javascript">
		var debug;
		$(document).ready(function(){

			var draggable_width = 16;
			var draggable_height = 16;

			function draggable_size(){
				var upload_area = $('#icon-uploads').find('.bx-draggable');
					
				upload_area.css({
					width : draggable_width + 'px',
					height : draggable_height + 'px'
				});
			}

			$("#icon-preferences").submit(function(e){
				e.preventDefault();
				var width = $(this).find('[name=icon-width]');
				var height = $(this).find('[name=icon-height]');
				var success = true;

				// Validações
				if(parseInt(width.val()) <= 0){
					width.addClass('bx-error');
					success = false;
				}else{
					width.removeClass('bx-error');
				}

				if(parseInt(height.val()) <= 0){
					height.addClass('bx-error');
					success = false;
				}else{
					height.removeClass('bx-error');
				}

				if(success){
					draggable_width = width.val();
					draggable_height = height.val();
					draggable_size();
				}
			});

			var draggable_row = function(){

				var template = $('<tr>' +
									'<td>' +
										'<label class="bx-input-group">' +
											'<div class="bx-add-on">.bx-icon</div>' +
											'<input type="text" name="icon-class[]" class="bx-input bx-little">' +
										'</label>' +
									'</td>' +
									'<td><div class="bx-draggable"></div></td>' +
									'<td><div class="bx-draggable"></div></td>' +
									'<td><div class="bx-draggable"></div></td>' +
									'<td><div class="bx-draggable"></div></td>' +
									'<td>' +
										'<button class="bx-button bx-black icon-remove-row">Remover</button>' +
									'</td>' +
								'</tr>');

				var draggable = template.find('.bx-draggable');
				var remove = template.find('.icon-remove-row');

				draggable.on('dragover',function(e){
					e.preventDefault();
					$(this).addClass('bx-active');
					e.stopPropagation();
				});
				draggable.on('dragleave',function(e){
					e.preventDefault();
					$(this).removeClass('bx-active');
					e.stopPropagation();
				});
				draggable.on('dragenter',function(e) {
				        e.preventDefault();
				        e.stopPropagation();
				    }
				)
				draggable.on('drop',function(e){
					if(e.originalEvent.dataTransfer){
			            if(e.originalEvent.dataTransfer.files.length) {
			                e.preventDefault();
			                e.stopPropagation();
			                var file = e.originalEvent.dataTransfer.files[0];

			                if(file.type != 'image/png'){
			                	alert('Formato inválido, somente png');
			                }else{
			                	var URL = window.URL || window.webkitURL;
			                	$(this).html('<img src="' + URL.createObjectURL(file) + '" style="width: ' + $(this).width() + 'px; height: ' + $(this).height() + 'px;">')
			                	$(this).removeClass('bx-draggable');
			                }
			            }   
			        }
				});

				remove.click(function(e){
					e.preventDefault();
					$(this).parents('tr').remove();
				})

				return template;

			}

			$('#icon-new-row').click(function(e){
				e.preventDefault();
				$('#icon-uploads').append(draggable_row());
				draggable_size();
			}).click();
		});
	</script>
</body>
</html>